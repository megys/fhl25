[gd_scene load_steps=15 format=3 uid="uid://bqxi678fw4cd0"]

[ext_resource type="Texture2D" uid="uid://bdy0ohsvi84kh" path="res://assets/tanisha assets/art/LightSkyLoop.png" id="1_iywne"]
[ext_resource type="Script" uid="uid://chaovihahiqem" path="res://scripts/FogMove.gd" id="1_u5sy4"]
[ext_resource type="PackedScene" uid="uid://c3kqxijua7img" path="res://scenes/player.tscn" id="1_uwrxv"]
[ext_resource type="Script" uid="uid://wkvn1vsvfu3x" path="res://scripts/game_manager.gd" id="1_vtaks"]
[ext_resource type="Texture2D" uid="uid://c40do7uon803d" path="res://assets/tanisha assets/art/HouseLoop.PNG" id="2_p57ef"]
[ext_resource type="PackedScene" uid="uid://bti2vl27ephuh" path="res://scenes/coin.tscn" id="2_yqjtg"]
[ext_resource type="Texture2D" uid="uid://c8qk3k6l23w6i" path="res://assets/tanisha assets/art/FogLoop.PNG" id="3_p57ef"]
[ext_resource type="Texture2D" uid="uid://b1xd0ebd3jads" path="res://assets/tanisha assets/art/Boxes-Large.png" id="4_lbhrr"]
[ext_resource type="PackedScene" uid="uid://dr87x48afbeuh" path="res://scenes/lamp.tscn" id="6_gee14"]
[ext_resource type="PackedScene" uid="uid://d308mib7n4wfc" path="res://scenes/potion.tscn" id="8_0tnpc"]
[ext_resource type="FontFile" uid="uid://2m3agwgeselk" path="res://assets/tanisha assets/font/Abel-Regular.ttf" id="8_kvpfn"]
[ext_resource type="Script" uid="uid://cgtvxlmr3ckmj" path="res://scripts/countdown.gd" id="12_dinhu"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_uwrxv"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_lnu2h"]
normal = Vector2(1, 0)
distance = -696.0

[node name="Game" type="Node2D"]

[node name="GameManager" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("1_vtaks")

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="Sky" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0, 0)
motion_mirroring = Vector2(5280, 0)
script = ExtResource("1_u5sy4")

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/Sky"]
scale = Vector2(0.6, 0.6)
texture = ExtResource("1_iywne")

[node name="Houses" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.8, 0.8)
motion_mirroring = Vector2(2298.8, 0)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/Houses"]
position = Vector2(0, 54)
scale = Vector2(0.7, 0.7)
texture = ExtResource("2_p57ef")

[node name="Behind Fog" type="ParallaxLayer" parent="ParallaxBackground"]
position = Vector2(0, -41)
motion_scale = Vector2(0.9, 0.9)
motion_mirroring = Vector2(4000, 0)
script = ExtResource("1_u5sy4")

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/Behind Fog"]
texture = ExtResource("3_p57ef")

[node name="Lamps" type="Node" parent="."]

[node name="Lamp5" parent="Lamps" instance=ExtResource("6_gee14")]
position = Vector2(3326, 348)

[node name="Lamp4" parent="Lamps" instance=ExtResource("6_gee14")]
position = Vector2(2575, 365)

[node name="Lamp3" parent="Lamps" instance=ExtResource("6_gee14")]
position = Vector2(1760, 345)

[node name="Lamp2" parent="Lamps" instance=ExtResource("6_gee14")]
position = Vector2(1195, 375)

[node name="Lamp" parent="Lamps" instance=ExtResource("6_gee14")]
position = Vector2(414, 336)

[node name="Player" parent="." instance=ExtResource("1_uwrxv")]
z_index = 1
position = Vector2(1, 167)

[node name="Camera2D" type="Camera2D" parent="Player"]
limit_bottom = 320
editor_draw_limits = true
script = ExtResource("12_dinhu")

[node name="Time" type="Label" parent="Player/Camera2D"]
offset_left = 210.0
offset_top = -486.0
offset_right = 556.0
offset_bottom = -422.0
theme_override_fonts/font = ExtResource("8_kvpfn")
theme_override_font_sizes/font_size = 30
text = "00:00"
horizontal_alignment = 2
autowrap_mode = 2

[node name="Countdown" type="Timer" parent="Player/Camera2D"]
wait_time = 5.0
one_shot = true

[node name="Score Manager" type="Label" parent="Player/Camera2D"]
offset_left = -565.0
offset_top = -487.0
offset_right = -219.0
offset_bottom = -423.0
theme_override_fonts/font = ExtResource("8_kvpfn")
theme_override_font_sizes/font_size = 30
text = "You collected 0 potions."
autowrap_mode = 2

[node name="Potions" type="Node" parent="."]

[node name="PotionText" parent="Potions" instance=ExtResource("2_yqjtg")]
position = Vector2(279, 237)

[node name="Potion" parent="Potions" instance=ExtResource("8_0tnpc")]
position = Vector2(855, 274)

[node name="Potion2" parent="Potions" instance=ExtResource("8_0tnpc")]
position = Vector2(966, 255)

[node name="Potion3" parent="Potions" instance=ExtResource("8_0tnpc")]
position = Vector2(1501, 258)

[node name="Potion4" parent="Potions" instance=ExtResource("8_0tnpc")]
position = Vector2(2061, 258)

[node name="Potion5" parent="Potions" instance=ExtResource("8_0tnpc")]
position = Vector2(2337, 243)

[node name="Potion6" parent="Potions" instance=ExtResource("8_0tnpc")]
position = Vector2(2825, 261)

[node name="Scene Boundaries" type="Node" parent="."]

[node name="Floor Boundary" type="StaticBody2D" parent="Scene Boundaries"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Scene Boundaries/Floor Boundary"]
position = Vector2(0, 298)
shape = SubResource("WorldBoundaryShape2D_uwrxv")

[node name="Left Boundary" type="StaticBody2D" parent="Scene Boundaries"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Scene Boundaries/Left Boundary"]
shape = SubResource("WorldBoundaryShape2D_lnu2h")

[node name="Boundry Box" type="Sprite2D" parent="Scene Boundaries"]
position = Vector2(-1037, 66)
scale = Vector2(0.5, 0.5)
texture = ExtResource("4_lbhrr")

[node name="ParallaxForeground" type="ParallaxBackground" parent="."]
layer = 1

[node name="Front Fog" type="ParallaxLayer" parent="ParallaxForeground"]
motion_scale = Vector2(1.2, 1.2)
motion_mirroring = Vector2(2000, 0)
script = ExtResource("1_u5sy4")

[node name="Sprite2D" type="Sprite2D" parent="ParallaxForeground/Front Fog"]
position = Vector2(0, 135)
scale = Vector2(0.5, 0.5)
texture = ExtResource("3_p57ef")
flip_h = true

[connection signal="timeout" from="Player/Camera2D/Countdown" to="GameManager" method="_on_countdown_timeout"]
